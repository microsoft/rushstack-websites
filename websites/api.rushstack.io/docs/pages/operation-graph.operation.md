---
hide_title: true
custom_edit_url: null
pagination_prev: null
pagination_next: null
---
<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@rushstack/operation-graph](./operation-graph.md) &gt; [Operation](./operation-graph.operation.md)

## Operation class

> This API is provided as a beta preview for developers and may change based on feedback that we receive. Do not use this API in a production environment.
> 

The `Operation` class is a node in the dependency graph of work that needs to be scheduled by the `OperationExecutionManager`<></>. Each `Operation` has a `runner` member of type `IOperationRunner`<></>, whose implementation manages the actual process of running a single operation.

The graph of `Operation` instances will be cloned into a separate execution graph after processing.

**Signature:**

```typescript
export declare class Operation<TMetadata extends {} = {}, TGroupMetadata extends {} = {}> implements IOperationStates 
```
**Implements:** [IOperationStates](./operation-graph.ioperationstates.md)

## Constructors

<table><thead><tr><th>

Constructor


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[(constructor)(options)](./operation-graph.operation._constructor_.md)


</td><td>


</td><td>

**_(BETA)_** Constructs a new instance of the `Operation` class


</td></tr>
</tbody></table>

## Properties

<table><thead><tr><th>

Property


</th><th>

Modifiers


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[consumers](./operation-graph.operation.consumers.md)


</td><td>

`readonly`


</td><td>

Set&lt;[Operation](./operation-graph.operation.md)<></>&lt;TMetadata, TGroupMetadata&gt;&gt;


</td><td>

**_(BETA)_** A set of all operations that wait for this operation.


</td></tr>
<tr><td>

[criticalPathLength](./operation-graph.operation.criticalpathlength.md)


</td><td>


</td><td>

number \| undefined


</td><td>

**_(BETA)_** This number represents how far away this Operation is from the furthest "root" operation (i.e. an operation with no consumers). This helps us to calculate the critical path (i.e. the longest chain of projects which must be executed in order, thereby limiting execution speed of the entire operation tree.

This number is calculated via a memoized depth-first search, and when choosing the next operation to execute, the operation with the highest criticalPathLength is chosen.

Example: (0) A \\ (1) B C (0) (applications) \\ /\|<></>\\ \\ / \| \\ (2) D \| X (1) (utilities) \| / \\ \|/ \\ (2) Y Z (2) (other utilities)

All roots (A &amp; C) have a criticalPathLength of 0. B has a score of 1, since A depends on it. D has a score of 2, since we look at the longest chain (e.g D-<></>&gt;<></>B-<></>&gt;<></>A is longer than D-<></>&gt;<></>C) X has a score of 1, since the only package which depends on it is A Z has a score of 2, since only X depends on it, and X has a score of 1 Y has a score of 2, since the chain Y-<></>&gt;<></>X-<></>&gt;<></>C is longer than Y-<></>&gt;<></>C

The algorithm is implemented in AsyncOperationQueue.ts as calculateCriticalPathLength()


</td></tr>
<tr><td>

[dependencies](./operation-graph.operation.dependencies.md)


</td><td>

`readonly`


</td><td>

Set&lt;[Operation](./operation-graph.operation.md)<></>&lt;TMetadata, TGroupMetadata&gt;&gt;


</td><td>

**_(BETA)_** A set of all dependencies which must be executed before this operation is complete.


</td></tr>
<tr><td>

[group](./operation-graph.operation.group.md)


</td><td>

`readonly`


</td><td>

[OperationGroupRecord](./operation-graph.operationgrouprecord.md)<></>&lt;TGroupMetadata&gt; \| undefined


</td><td>

**_(BETA)_** If specified, the name of a grouping to which this Operation belongs, for logging start and end times.


</td></tr>
<tr><td>

[lastState](./operation-graph.operation.laststate.md)


</td><td>


</td><td>

[IOperationState](./operation-graph.ioperationstate.md) \| undefined


</td><td>

**_(BETA)_** The state of this operation the previous time a manager was invoked.


</td></tr>
<tr><td>

[metadata](./operation-graph.operation.metadata.md)


</td><td>

`readonly`


</td><td>

TMetadata


</td><td>

**_(BETA)_**


</td></tr>
<tr><td>

[name](./operation-graph.operation.name.md)


</td><td>

`readonly`


</td><td>

string


</td><td>

**_(BETA)_** The name of this operation, for logging.


</td></tr>
<tr><td>

[runner](./operation-graph.operation.runner.md)


</td><td>


</td><td>

[IOperationRunner](./operation-graph.ioperationrunner.md) \| undefined


</td><td>

**_(BETA)_** When the scheduler is ready to process this `Operation`<></>, the `runner` implements the actual work of running the operation.


</td></tr>
<tr><td>

[state](./operation-graph.operation.state.md)


</td><td>


</td><td>

[IOperationState](./operation-graph.ioperationstate.md) \| undefined


</td><td>

**_(BETA)_** The current state of this operation


</td></tr>
<tr><td>

[weight](./operation-graph.operation.weight.md)


</td><td>


</td><td>

number


</td><td>

**_(BETA)_** The weight for this operation. This scalar is the contribution of this operation to the `criticalPathLength` calculation above. Modify to indicate the following: - `weight` === 1: indicates that this operation has an average duration - `weight` &amp;gt; 1: indicates that this operation takes longer than average and so the scheduler should try to favor starting it over other, shorter operations. An example might be an operation that bundles an entire application and runs whole-program optimization. - `weight` &amp;lt; 1: indicates that this operation takes less time than average and so the scheduler should favor other, longer operations over it. An example might be an operation to unpack a cached output, or an operation using NullOperationRunner, which might use a value of 0.


</td></tr>
</tbody></table>

## Methods

<table><thead><tr><th>

Method


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[addDependency(dependency)](./operation-graph.operation.adddependency.md)


</td><td>


</td><td>

**_(BETA)_**


</td></tr>
<tr><td>

[deleteDependency(dependency)](./operation-graph.operation.deletedependency.md)


</td><td>


</td><td>

**_(BETA)_**


</td></tr>
<tr><td>

[reset()](./operation-graph.operation.reset.md)


</td><td>


</td><td>

**_(BETA)_**


</td></tr>
</tbody></table>

